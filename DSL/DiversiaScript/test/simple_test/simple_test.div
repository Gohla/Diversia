plugin Sky {
	
}

def Test {
	Position = [0, 0.5, 0]
	
    component Mesh {
        ShapeType = "Mesh"
        ShapeFile = "Landmine.mesh"
    }
    component TEST : CollisionShape {
        ShapeType = "Mesh"
        ShapeFile = "Landmine.bullet"
    }
    component RigidBody {
        PhysicsType = "Dynamic"
        Restitution = 0.3
        LinearDampening = 0.7
        AngularDampening = 0.7
    }
    
    var Bla : Int = 0
    var Test : Degree = Degree(0)
    prop Zomg : Int = 1
    
    on Create() {
    	Bla = 1;
    	
	    in 2 seconds {
            Bla = 42;
        }
    }
    on Update() {
    	Bla++;
    	Test = Degree(0);
    }
    
    default state TestState1 {
    	Position = [0, 10, 0]
    	
    	var Bla : Int = 0
    	
	    on Update() {
	    	Zomg = 42;
	    	Bla = --Bla + 1;
	    	Test = Degree(10);
	    	Position = [1, 2, 3];
	    	
            switch(Bla) {
                case 1: ++Bla;
                case 2: { --Bla; ++Zomg; ++Test; }
                case 42: this.Destroy();
           }
	    }
	    on Frame(TimeElapsed : Real) {
	    	Bla = Bla / 3;
	    	Scale = [2, 2, 2];
	    	
	    	setstate TestState2;
	    }    	
    }
    state TestState2 {
	    component LOL : Entity {
        	Material = "Landmine"
    	}
    	
		on Update(){
			if(true) {
				if(this.Position.Y > 0.5) this.Yaw(Radian(Degree(-90)));
		    	Test = Degree(20);
		    	Position = [3, 4, 5];
	    	} else if(false) {
	    		this.Destroy();
	    	} else {
	    		this.Destroy();
	    	}
	    }
	    on Frame(TimeElapsed : Real) {
	    	Bla = Bla + 4;
	    	Scale = [3, 3, 3];
	    	
	    	setstate TestState3;
	    }
	    on Destroy() {
	    	Bla = 0;
	    }
    }
    state TestState3 {
    	on StateEnter {
    		++Bla;
    		
    		setstate TestState1;
    	}
    	on StateExit {
    		--Bla;
    	}
    }
}

def Test2 {
	component Mesh {
        ShapeType = "Mesh"
        ShapeFile = "Landmine.mesh"
    }
}

on Create() {
	var Trololo : Real = 5.0;
	interpolate Trololo linearly from 5.0 to -5.0 over 2 seconds; 
}